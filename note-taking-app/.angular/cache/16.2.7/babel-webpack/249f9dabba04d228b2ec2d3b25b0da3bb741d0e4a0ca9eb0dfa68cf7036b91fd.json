{"ast":null,"code":"import API_ENDPOINTS from 'src/app/constants/APIEndpoints';\nimport HTTP_OPTIONS from 'src/app/constants/HttpOptions';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/note.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i4 from \"@angular/common\";\nfunction NoteDeleteComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 9);\n    i0.ɵɵtext(1, \"Note deleted!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NoteDeleteComponent_p_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 10);\n    i0.ɵɵtext(1, \"Failed to delete the note. Check the console for details.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NoteDeleteComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function NoteDeleteComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onClickBtnDelete());\n    });\n    i0.ɵɵtext(1, \"Confirm\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class NoteDeleteComponent {\n  constructor(noteService, httpClient, activeModal) {\n    this.noteService = noteService;\n    this.httpClient = httpClient;\n    this.activeModal = activeModal;\n    this.deleteSuccessful = false;\n    this.deleteFailed = false;\n  }\n  onClickBtnDelete() {\n    this.httpClient.delete(`${API_ENDPOINTS.DELETE_NOTE}/${this.noteToDelete.id}`, HTTP_OPTIONS).subscribe({\n      next: response => {\n        this.deleteSuccessful = true;\n        const index = this.noteService.allNotes.indexOf(this.noteToDelete);\n        if (index > -1) {\n          this.noteService.allNotes.splice(index, 1); // 2nd parameter means remove one item only\n        }\n\n        console.log('Successfully deleted the note! Response from server:');\n        console.log(response);\n      },\n      error: error => {\n        this.deleteFailed = true;\n        console.log('Failed to delete the note! Error from server:');\n        console.log(error);\n      }\n    });\n  }\n  static #_ = this.ɵfac = function NoteDeleteComponent_Factory(t) {\n    return new (t || NoteDeleteComponent)(i0.ɵɵdirectiveInject(i1.NoteService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.NgbActiveModal));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NoteDeleteComponent,\n    selectors: [[\"app-note-delete\"]],\n    decls: 13,\n    vars: 5,\n    consts: [[1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"class\", \"text-success\", 4, \"ngIf\"], [\"class\", \"text-danger\", 4, \"ngIf\"], [\"class\", \"btn btn-lg btn-dark\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-outline-dark\", 3, \"click\"], [1, \"text-success\"], [1, \"text-danger\"], [\"type\", \"button\", 1, \"btn\", \"btn-lg\", \"btn-dark\", 3, \"click\"]],\n    template: function NoteDeleteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function NoteDeleteComponent_Template_button_click_3_listener() {\n          return ctx.activeModal.dismiss(\"Cross click\");\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"p\");\n        i0.ɵɵtext(6, \"A deletion can not be reverted.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵtemplate(8, NoteDeleteComponent_p_8_Template, 2, 0, \"p\", 5);\n        i0.ɵɵtemplate(9, NoteDeleteComponent_p_9_Template, 2, 0, \"p\", 6);\n        i0.ɵɵtemplate(10, NoteDeleteComponent_button_10_Template, 2, 0, \"button\", 7);\n        i0.ɵɵelementStart(11, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function NoteDeleteComponent_Template_button_click_11_listener() {\n          return ctx.activeModal.close(\"Close click\");\n        });\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"Are you sure you want to delete the note titled \\\"\", ctx.noteToDelete.title, \"\\\"?\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.deleteSuccessful);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.deleteFailed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.deleteSuccessful === false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.deleteSuccessful ? \"Close\" : \"Cancel\");\n      }\n    },\n    dependencies: [i4.NgIf],\n    styles: [\"\\n\\n.container[_ngcontent-%COMP%] {\\n    margin: 20px;\\n  }\\n  \\n  \\n\\n  .btn-danger[_ngcontent-%COMP%] {\\n    background-color: #dc3545;\\n    color: #fff;\\n    border: none;\\n    border-radius: 3px;\\n    padding: 8px 16px;\\n    cursor: pointer;\\n  }\\n  \\n  .btn-danger[_ngcontent-%COMP%]:hover {\\n    background-color: #c82333;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbm90ZS1kZWxldGUvbm90ZS1kZWxldGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSx3QkFBd0I7QUFDeEI7SUFDSSxZQUFZO0VBQ2Q7O0VBRUEsNkRBQTZEO0VBQzdEO0lBQ0UseUJBQXlCO0lBQ3pCLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGlCQUFpQjtJQUNqQixlQUFlO0VBQ2pCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLyogU3R5bGUgdGhlIGNvbnRhaW5lciAqL1xyXG4uY29udGFpbmVyIHtcclxuICAgIG1hcmdpbjogMjBweDtcclxuICB9XHJcbiAgXHJcbiAgLyogU3R5bGUgdGhlIFwiRGVsZXRlXCIgYnV0dG9uIChzaW1pbGFyIHRvIHByZXZpb3VzIGV4YW1wbGVzKSAqL1xyXG4gIC5idG4tZGFuZ2VyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkYzM1NDU7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDNweDtcclxuICAgIHBhZGRpbmc6IDhweCAxNnB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBcclxuICAuYnRuLWRhbmdlcjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzgyMzMzO1xyXG4gIH1cclxuICAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["API_ENDPOINTS","HTTP_OPTIONS","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","NoteDeleteComponent_button_10_Template_button_click_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","onClickBtnDelete","NoteDeleteComponent","constructor","noteService","httpClient","activeModal","deleteSuccessful","deleteFailed","delete","DELETE_NOTE","noteToDelete","id","subscribe","next","response","index","allNotes","indexOf","splice","console","log","error","_","ɵɵdirectiveInject","i1","NoteService","i2","HttpClient","i3","NgbActiveModal","_2","selectors","decls","vars","consts","template","NoteDeleteComponent_Template","rf","ctx","NoteDeleteComponent_Template_button_click_3_listener","dismiss","ɵɵtemplate","NoteDeleteComponent_p_8_Template","NoteDeleteComponent_p_9_Template","NoteDeleteComponent_button_10_Template","NoteDeleteComponent_Template_button_click_11_listener","close","ɵɵadvance","ɵɵtextInterpolate1","title","ɵɵproperty","ɵɵtextInterpolate"],"sources":["D:\\coding task\\note-taking-app\\src\\app\\note-delete\\note-delete.component.ts","D:\\coding task\\note-taking-app\\src\\app\\note-delete\\note-delete.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\nimport API_ENDPOINTS from 'src/app/constants/APIEndpoints';\nimport HTTP_OPTIONS from 'src/app/constants/HttpOptions';\nimport { Note } from '../models/note.model';\nimport { NoteService } from '../services/note.service';\n\n@Component({\n  selector: 'app-note-delete',\n  templateUrl: './note-delete.component.html',\n  styleUrls: ['./note-delete.component.css']\n})\nexport class NoteDeleteComponent {\n  noteToDelete!: Note;\n\n  deleteSuccessful: boolean = false;\n  deleteFailed: boolean = false;\n  constructor(private noteService: NoteService, private httpClient: HttpClient, public activeModal: NgbActiveModal) {}\n\n  onClickBtnDelete() {\n    this.httpClient\n      .delete(`${API_ENDPOINTS.DELETE_NOTE}/${this.noteToDelete.id}`, HTTP_OPTIONS)\n      .subscribe({\n        next: (response) => {\n          this.deleteSuccessful = true;\n\n          const index = this.noteService.allNotes.indexOf(this.noteToDelete);\n          if (index > -1) {\n            this.noteService.allNotes.splice(index, 1); // 2nd parameter means remove one item only\n          }\n\n          console.log('Successfully deleted the note! Response from server:');\n          console.log(response);\n        },\n        error: (error: HttpErrorResponse) => {\n          this.deleteFailed = true;\n          console.log('Failed to delete the note! Error from server:');\n          console.log(error);\n        },\n      });\n  }\n}\n","<div class=\"modal-header\">\n  <h4 class=\"modal-title\">Are you sure you want to delete the note titled \"{{ noteToDelete.title }}\"?</h4>\n  <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"activeModal.dismiss('Cross click')\"></button>\n</div>\n<div class=\"modal-body\">\n  <p>A deletion can not be reverted.</p>\n</div>\n<div class=\"modal-footer\">\n  <p class=\"text-success\" *ngIf=\"deleteSuccessful\">Note deleted!</p>\n  <p class=\"text-danger\" *ngIf=\"deleteFailed\">Failed to delete the note. Check the console for details.</p>\n\n  <button class=\"btn btn-lg btn-dark\" type=\"button\" *ngIf=\"deleteSuccessful === false\"\n    (click)=\"onClickBtnDelete()\">Confirm</button>\n  <button type=\"button\" class=\"btn btn-lg btn-outline-dark\" (click)=\"activeModal.close('Close click')\">{{\n    deleteSuccessful ? 'Close' : 'Cancel' }}</button>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}